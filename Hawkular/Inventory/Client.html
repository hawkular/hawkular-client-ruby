<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Hawkular::Inventory::Client
  
    &mdash; Documentation by YARD 0.9.8
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Hawkular::Inventory::Client";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Hawkular.html" title="Hawkular (module)">Hawkular</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Inventory.html" title="Hawkular::Inventory (module)">Inventory</a></span></span>
     &raquo; 
    <span class="title">Client</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Hawkular::Inventory::Client
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../BaseClient.html" title="Hawkular::BaseClient (class)">BaseClient</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../BaseClient.html" title="Hawkular::BaseClient (class)">BaseClient</a></span></li>
          
            <li class="next">Hawkular::Inventory::Client</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/hawkular/inventory/inventory_api.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Client class to interact with Hawkular Inventory</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#version-instance_method" title="#version (instance method)">#<strong>version</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute version.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../BaseClient.html" title="Hawkular::BaseClient (class)">BaseClient</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../BaseClient.html#tenants-instance_method" title="Hawkular::BaseClient#tenants (method)">#tenants</a></span></p>


  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">.<strong>create</strong>(hash)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new Inventory Client and another sub-hash containing the hash
with <a href="String">username</a>, <a href="String">password</a>,
token(optional).</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_feed-instance_method" title="#create_feed (instance method)">#<strong>create_feed</strong>(feed_id, feed_name = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new feed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_metric_for_resource-instance_method" title="#create_metric_for_resource (instance method)">#<strong>create_metric_for_resource</strong>(metric_type_path, resource_path, metric_id, metric_name = nil)  &#x21d2; Metric </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a Metric and associate it with a resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_metric_type-instance_method" title="#create_metric_type (instance method)">#<strong>create_metric_type</strong>(feed_id, metric_type_id, type = &#39;GAUGE&#39;, unit = &#39;NONE&#39;, collection_interval = 60)  &#x21d2; MetricType </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new metric type for a feed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_resource-instance_method" title="#create_resource (instance method)">#<strong>create_resource</strong>(resource_type_path, resource_id, resource_name = nil, properties = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a resource of a given type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_resource_type-instance_method" title="#create_resource_type (instance method)">#<strong>create_resource_type</strong>(feed_id, type_id, type_name)  &#x21d2; ResourceType </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new resource type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_resource_under_resource-instance_method" title="#create_resource_under_resource (instance method)">#<strong>create_resource_under_resource</strong>(res_type_path, parent_res_path, resource_id, resource_name = nil, properties = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a resource of a given type under a given resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_feed-instance_method" title="#delete_feed (instance method)">#<strong>delete_feed</strong>(feed_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete the feed with the passed feed id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#events-instance_method" title="#events (instance method)">#<strong>events</strong>(type = &#39;resource&#39;, action = &#39;created&#39;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Listen on inventory changes Allowed values: resource, metric, resourcetype,
metrictype, feed, environment, operationtype, metadatapack Allowed values:
created, updated, deleted, copied, registered.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_version_and_status-instance_method" title="#fetch_version_and_status (instance method)">#<strong>fetch_version_and_status</strong>  &#x21d2; Hash{String=&gt;String} </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return version and status information for the used version of
Hawkular-Inventory.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_config_data_for_resource-instance_method" title="#get_config_data_for_resource (instance method)">#<strong>get_config_data_for_resource</strong>(resource_path)  &#x21d2; Hash&lt;String,Object] Hash with additional data </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve runtime properties for the passed resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_entity-instance_method" title="#get_entity (instance method)">#<strong>get_entity</strong>(path)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve a single entity from inventory by its canonical path.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_resource-instance_method" title="#get_resource (instance method)">#<strong>get_resource</strong>(resource_path, fetch_resource_config = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the resource object for the passed path.</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#get_tenant-instance_method" title="#get_tenant (instance method)">#<strong>get_tenant</strong>(credentials = {})  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'>
<p>this doesn&#39;t provide any value, because it merely returns the tenant ID
which is known before the</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(entrypoint = nil, credentials = {}, options = {})  &#x21d2; Client </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new Inventory Client.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_child_resources-instance_method" title="#list_child_resources (instance method)">#<strong>list_child_resources</strong>(parent_res_path, recursive = false)  &#x21d2; Array&lt;Resource&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtain the child resources of the passed resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_feeds-instance_method" title="#list_feeds (instance method)">#<strong>list_feeds</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List feeds in the system.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_metrics_for_metric_type-instance_method" title="#list_metrics_for_metric_type (instance method)">#<strong>list_metrics_for_metric_type</strong>(metric_type_path)  &#x21d2; Array&lt;Metric&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List the metrics for the passed metric type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_metrics_for_resource-instance_method" title="#list_metrics_for_resource (instance method)">#<strong>list_metrics_for_resource</strong>(resource_path, filter = {})  &#x21d2; Array&lt;Metric&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List metric (definitions) for the passed resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_metrics_for_resource_type-instance_method" title="#list_metrics_for_resource_type (instance method)">#<strong>list_metrics_for_resource_type</strong>(resource_type_path)  &#x21d2; Array&lt;Metric&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List the metrics for all the resources of a given resource type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_operation_definitions-instance_method" title="#list_operation_definitions (instance method)">#<strong>list_operation_definitions</strong>(resource_type_path)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List operation definitions (types) for a given resource type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_operation_definitions_for_resource-instance_method" title="#list_operation_definitions_for_resource (instance method)">#<strong>list_operation_definitions_for_resource</strong>(resource_path)  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List operation definitions (types) for a given resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_relationships-instance_method" title="#list_relationships (instance method)">#<strong>list_relationships</strong>(entity_path, named = nil)  &#x21d2; Array&lt;Relationship&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtain a list of relationships starting at the passed resource.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_relationships_for_feed-instance_method" title="#list_relationships_for_feed (instance method)">#<strong>list_relationships_for_feed</strong>(feed_id, named = nil)  &#x21d2; Array&lt;Relationship&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtain a list of relationships for the passed feed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_resource_types-instance_method" title="#list_resource_types (instance method)">#<strong>list_resource_types</strong>(feed_id = nil)  &#x21d2; Array&lt;ResourceType&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List resource types.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_resources_for_feed-instance_method" title="#list_resources_for_feed (instance method)">#<strong>list_resources_for_feed</strong>(feed_id, fetch_properties = false, filter = {})  &#x21d2; Array&lt;Resource&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return all resources for a feed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#list_resources_for_type-instance_method" title="#list_resources_for_type (instance method)">#<strong>list_resources_for_type</strong>(resource_type_path, fetch_properties = false)  &#x21d2; Array&lt;Resource&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List the resources for the passed resource type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#no_more_events!-instance_method" title="#no_more_events! (instance method)">#<strong>no_more_events!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stop listening on inventory events.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../BaseClient.html" title="Hawkular::BaseClient (class)">BaseClient</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../BaseClient.html#admin_header-instance_method" title="Hawkular::BaseClient#admin_header (method)">#admin_header</a></span>, <span class='object_link'><a href="../BaseClient.html#base_64_credentials-instance_method" title="Hawkular::BaseClient#base_64_credentials (method)">#base_64_credentials</a></span>, <span class='object_link'><a href="../BaseClient.html#generate_query_params-instance_method" title="Hawkular::BaseClient#generate_query_params (method)">#generate_query_params</a></span>, <span class='object_link'><a href="../BaseClient.html#http_delete-instance_method" title="Hawkular::BaseClient#http_delete (method)">#http_delete</a></span>, <span class='object_link'><a href="../BaseClient.html#http_get-instance_method" title="Hawkular::BaseClient#http_get (method)">#http_get</a></span>, <span class='object_link'><a href="../BaseClient.html#http_post-instance_method" title="Hawkular::BaseClient#http_post (method)">#http_post</a></span>, <span class='object_link'><a href="../BaseClient.html#http_put-instance_method" title="Hawkular::BaseClient#http_put (method)">#http_put</a></span>, <span class='object_link'><a href="../BaseClient.html#normalize_entrypoint_url-instance_method" title="Hawkular::BaseClient#normalize_entrypoint_url (method)">#normalize_entrypoint_url</a></span>, <span class='object_link'><a href="../BaseClient.html#now-instance_method" title="Hawkular::BaseClient#now (method)">#now</a></span>, <span class='object_link'><a href="../BaseClient.html#url_with_websocket_scheme-instance_method" title="Hawkular::BaseClient#url_with_websocket_scheme (method)">#url_with_websocket_scheme</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../ClientUtils.html" title="Hawkular::ClientUtils (module)">ClientUtils</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../ClientUtils.html#hawk_escape-instance_method" title="Hawkular::ClientUtils#hawk_escape (method)">#hawk_escape</a></span>, <span class='object_link'><a href="../ClientUtils.html#hawk_escape_id-instance_method" title="Hawkular::ClientUtils#hawk_escape_id (method)">#hawk_escape_id</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(entrypoint = nil, credentials = {}, options = {})  &#x21d2; <tt><span class='object_link'><a href="" title="Hawkular::Inventory::Client (class)">Client</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new Inventory Client</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>entrypoint</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>base url of Hawkular-inventory - e.g <a
href="http://localhost:8080/hawkular/inventory">localhost:8080/hawkular/inventory</a></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>credentials</span>
      
      
        <span class='type'>(<tt>Hash{String=&gt;String}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash of username, password, token(optional)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{String=&gt;String}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Additional rest client options</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_entrypoint'>entrypoint</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_credentials'>credentials</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_entrypoint'>entrypoint</span> <span class='op'>=</span> <span class='id identifier rubyid_normalize_entrypoint_url'>normalize_entrypoint_url</span> <span class='id identifier rubyid_entrypoint'>entrypoint</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hawkular/inventory</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@entrypoint</span> <span class='op'>=</span> <span class='id identifier rubyid_entrypoint'>entrypoint</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_entrypoint'>entrypoint</span><span class='comma'>,</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_version_and_status'>fetch_version_and_status</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Implementation-Version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='ivar'>@version</span> <span class='op'>=</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\d+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_i</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="version-instance_method">
  
    #<strong>version</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute version</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 15</span>

<span class='kw'>def</span> <span class='id identifier rubyid_version'>version</span>
  <span class='ivar'>@version</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create-class_method">
  
    .<strong>create</strong>(hash)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a new Inventory Client and another sub-hash containing the hash
with <a href="String">username</a>, <a href="String">password</a>,
token(optional)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hash</span>
      
      
        <span class='type'>(<tt>Hash{String=&gt;Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>a hash containing base url of Hawkular-inventory - e.g entrypoint: <a
href="http://localhost:8080/hawkular/inventory">localhost:8080/hawkular/inventory</a></p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 34</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no parameter &quot;:entrypoint&quot; given</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:entrypoint</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:credentials</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='const'><span class='object_link'><a href="" title="Hawkular::Inventory::Client (class)">Client</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Hawkular::Inventory::Client#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:entrypoint</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:credentials</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_hash'>hash</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create_feed-instance_method">
  
    #<strong>create_feed</strong>(feed_id, feed_name = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new feed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of a feed - required</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>feed_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A display name for the feed</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 271</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_feed'>create_feed</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='comma'>,</span> <span class='id identifier rubyid_feed_name'>feed_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed'>feed</span> <span class='op'>=</span> <span class='id identifier rubyid_create_blueprint'>create_blueprint</span>
  <span class='id identifier rubyid_feed'>feed</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_feed'>feed</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_feed_name'>feed_name</span>

  <span class='kw'>begin</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/entity/feed</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_feed'>feed</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../BaseClient/HawkularException.html" title="Hawkular::BaseClient::HawkularException (class)">HawkularException</a></span></span>  <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># 409 We already exist -&gt; that is ok
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>==</span> <span class='int'>409</span>
      <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
      <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_metric_for_resource-instance_method">
  
    #<strong>create_metric_for_resource</strong>(metric_type_path, resource_path, metric_id, metric_name = nil)  &#x21d2; <tt><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a Metric and associate it with a resource.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>metric_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the metric type of the new metric.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>resource_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource to which we want to associate the metric.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>metric_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the metric</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>metric_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a (display) name for the metric. If nil, #metric_id is used.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The metric created or if it already existed the version from the server</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 448</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_metric_for_resource'>create_metric_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_metric_type_path'>metric_type_path</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='comma'>,</span> <span class='id identifier rubyid_metric_id'>metric_id</span><span class='comma'>,</span> <span class='id identifier rubyid_metric_name'>metric_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type_path'>type_path</span> <span class='op'>=</span> <span class='id identifier rubyid_metric_type_path'>metric_type_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_metric_type_path'>metric_type_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_metric_type_path'>metric_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_type_path'>type_path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_res_path'>res_path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res_path_str'>res_path_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_res_path'>res_path</span><span class='period'>.</span><span class='id identifier rubyid_resource_ids'>resource_ids</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/r;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_metric_id'>metric_id</span>
  <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_metric_name'>metric_name</span> <span class='op'>||</span> <span class='id identifier rubyid_metric_id'>metric_id</span>
  <span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>metricTypePath</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_type_path'>type_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/metric</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../BaseClient/HawkularException.html" title="Hawkular::BaseClient::HawkularException (class)">HawkularException</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># 409 We already exist -&gt; that is ok
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>==</span> <span class='int'>409</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/m;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_metric_id'>metric_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_the_metric'>the_metric</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Metric.html#initialize-instance_method" title="Hawkular::Inventory::Metric#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_ret'>ret</span><span class='rparen'>)</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_rl'>rl</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_rl'>rl</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>otherEnd</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_the_metric'>the_metric</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_rl'>rl</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>incorporates</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res_path_str'>res_path_str</span><span class='embexpr_end'>}</span><span class='tstring_content'>/relationship</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_rl'>rl</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../BaseClient/HawkularException.html" title="Hawkular::BaseClient::HawkularException (class)">HawkularException</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># 409 We already exist -&gt; that is ok
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>==</span> <span class='int'>409</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_the_metric'>the_metric</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_metric_type-instance_method">
  
    #<strong>create_metric_type</strong>(feed_id, metric_type_id, type = &#39;GAUGE&#39;, unit = &#39;NONE&#39;, collection_interval = 60)  &#x21d2; <tt><span class='object_link'><a href="MetricType.html" title="Hawkular::Inventory::MetricType (class)">MetricType</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new metric type for a feed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the feed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>metric_type_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the metric type to create</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;GAUGE&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Type of the Metric. Allowed are GAUGE,COUNTER, AVAILABILITY</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>unit</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;NONE&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Unit of the metric</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>collection_interval</span>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>60</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="MetricType.html" title="Hawkular::Inventory::MetricType (class)">MetricType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Type just created or the one from the server if it already existed.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 395</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_metric_type'>create_metric_type</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='comma'>,</span> <span class='id identifier rubyid_metric_type_id'>metric_type_id</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GAUGE</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>NONE</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_collection_interval'>collection_interval</span> <span class='op'>=</span> <span class='int'>60</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>

  <span class='id identifier rubyid_metric_kind'>metric_kind</span> <span class='op'>=</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GAUGE</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>
  <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_metric_kind'>metric_kind</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>GAUGE</span><span class='words_sep'> </span><span class='tstring_content'>COUNTER</span><span class='words_sep'> </span><span class='tstring_content'>AVAILABILITY&#39;</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_metric_kind'>metric_kind</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_mt'>mt</span> <span class='op'>=</span> <span class='id identifier rubyid_build_metric_type_hash'>build_metric_type_hash</span><span class='lparen'>(</span><span class='id identifier rubyid_collection_interval'>collection_interval</span><span class='comma'>,</span> <span class='id identifier rubyid_metric_kind'>metric_kind</span><span class='comma'>,</span> <span class='id identifier rubyid_metric_type_id'>metric_type_id</span><span class='comma'>,</span> <span class='id identifier rubyid_unit'>unit</span><span class='rparen'>)</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/metricType</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_mt'>mt</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../BaseClient/HawkularException.html" title="Hawkular::BaseClient::HawkularException (class)">HawkularException</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># 409 We already exist -&gt; that is ok
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>==</span> <span class='int'>409</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_new_mt'>new_mt</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/mt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_metric_type_id'>metric_type_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='const'><span class='object_link'><a href="MetricType.html" title="Hawkular::Inventory::MetricType (class)">MetricType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="MetricType.html#initialize-instance_method" title="Hawkular::Inventory::MetricType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_new_mt'>new_mt</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_resource-instance_method">
  
    #<strong>create_resource</strong>(resource_type_path, resource_id, resource_name = nil, properties = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a resource of a given type. To retrieve that resource you need to
call <span class='object_link'><a href="#get_resource-instance_method" title="Hawkular::Inventory::Client#get_resource (method)">#get_resource</a></span></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the new resource&#39;s type.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>resource_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the new resource</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>resource_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the new resource</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>properties</span>
      
      
        <span class='type'>(<tt>Hash&lt;String,Object&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Additional properties. Those are not the config-properties</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 326</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_resource'>create_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_id'>resource_id</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_name'>resource_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_create_resource_under_resource'>create_resource_under_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_id'>resource_id</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_name'>resource_name</span><span class='comma'>,</span> <span class='id identifier rubyid_properties'>properties</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_resource_type-instance_method">
  
    #<strong>create_resource_type</strong>(feed_id, type_id, type_name)  &#x21d2; <tt><span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new resource type</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the feed to add the type to</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the new type</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>type_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the type</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ResourceType object just created</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 301</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_resource_type'>create_resource_type</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='comma'>,</span> <span class='id identifier rubyid_type_id'>type_id</span><span class='comma'>,</span> <span class='id identifier rubyid_type_name'>type_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>

  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_create_blueprint'>create_blueprint</span>
  <span class='id identifier rubyid_type'>type</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_type_id'>type_id</span>
  <span class='id identifier rubyid_type'>type</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_type_name'>type_name</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/resourceType</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../BaseClient/HawkularException.html" title="Hawkular::BaseClient::HawkularException (class)">HawkularException</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># 409 We already exist -&gt; that is ok
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>==</span> <span class='int'>409</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_the_type'>the_type</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_type_id'>type_id</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_type'>the_type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ResourceType.html#initialize-instance_method" title="Hawkular::Inventory::ResourceType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_resource_under_resource-instance_method">
  
    #<strong>create_resource_under_resource</strong>(res_type_path, parent_res_path, resource_id, resource_name = nil, properties = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a resource of a given type under a given resource. To retrieve that
resource you need to call <span class='object_link'><a href="#get_resource-instance_method" title="Hawkular::Inventory::Client#get_resource (method)">#get_resource</a></span></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>res_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the new resource&#39;s type.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent_res_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource under which we create this resource. If nil,
the top-lvl resource will be created.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>resource_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the resource</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>resource_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the resource</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>properties</span>
      
      
        <span class='type'>(<tt>Hash&lt;String,Object&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Additional properties. Those are not the config-properties</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 338</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_resource_under_resource'>create_resource_under_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_res_type_path'>res_type_path</span><span class='comma'>,</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_id'>resource_id</span><span class='comma'>,</span> <span class='id identifier rubyid_resource_name'>resource_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span>
                                   <span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type_path'>type_path</span> <span class='op'>=</span> <span class='id identifier rubyid_res_type_path'>res_type_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_res_type_path'>res_type_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_res_type_path'>res_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_type_path'>type_path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_create_blueprint'>create_blueprint</span>
  <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='symbol'>:properties</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_properties'>properties</span>
  <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_id'>resource_id</span>
  <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_name'>resource_name</span>
  <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='symbol'>:resourceTypePath</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_type_path'>type_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/resource</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_ids'>resource_ids</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/r;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_http_post'>http_post</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/resource</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="../BaseClient/HawkularException.html" title="Hawkular::BaseClient::HawkularException (class)">HawkularException</a></span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_error'>error</span>
    <span class='comment'># 409 We already exist -&gt; that is ok
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='kw'>unless</span> <span class='id identifier rubyid_error'>error</span><span class='period'>.</span><span class='id identifier rubyid_status_code'>status_code</span> <span class='op'>==</span> <span class='int'>409</span>
    <span class='comment'># Ensure we have a consistent behaviour if resource already exists Issue#180
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_hash'>hash</span> <span class='op'>=</span> <span class='id identifier rubyid_type_path'>type_path</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
      <span class='id identifier rubyid_hash'>hash</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:metric_type_id</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CanonicalPath.html#initialize-instance_method" title="Hawkular::Inventory::CanonicalPath#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_hash'>hash</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_get_resource'>get_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_to_resource'>to_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_id'>resource_id</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_h'>to_h</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Hawkular::Inventory::Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_feed-instance_method">
  
    #<strong>delete_feed</strong>(feed_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Delete the feed with the passed feed id.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the feed to be deleted.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


291
292
293
294</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 291</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_feed'>delete_feed</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_http_delete'>http_delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="events-instance_method">
  
    #<strong>events</strong>(type = &#39;resource&#39;, action = &#39;created&#39;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Listen on inventory changes Allowed values: resource, metric, resourcetype,
metrictype, feed, environment, operationtype, metadatapack Allowed values:
created, updated, deleted, copied, registered</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;resource&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Type of entity for which we want the events.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>action</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;created&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>What types of events are we interested in.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 486</span>

<span class='kw'>def</span> <span class='id identifier rubyid_events'>events</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>resource</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_action'>action</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>created</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tenant_id'>tenant_id</span> <span class='op'>=</span> <span class='id identifier rubyid_get_tenant'>get_tenant</span>

  <span class='id identifier rubyid_base64_creds'>base64_creds</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@credentials</span><span class='lbracket'>[</span><span class='symbol'>:username</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@credentials</span><span class='lbracket'>[</span><span class='symbol'>:password</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ws_options'>ws_options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>headers:</span> <span class='lbrace'>{</span>
      <span class='label'>Authorization:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Basic </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_base64_creds'>base64_creds</span><span class='comma'>,</span>
      <span class='label'>Accept:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/json</span><span class='tstring_end'>&#39;</span></span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_ws_options'>ws_options</span><span class='lbracket'>[</span><span class='symbol'>:headers</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:Hawkular-Tenant</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_tenant_id'>tenant_id</span>

  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_normalize_entrypoint_url'>normalize_entrypoint_url</span><span class='lparen'>(</span><span class='ivar'>@entrypoint</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ws/events?tenantId=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tenant_id'>tenant_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;type=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;action=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_action'>action</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_url_with_websocket_scheme'>url_with_websocket_scheme</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='ivar'>@ws</span> <span class='op'>=</span> <span class='const'>WebSocket</span><span class='op'>::</span><span class='const'>Client</span><span class='op'>::</span><span class='const'>Simple</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_ws_options'>ws_options</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_client'>client</span><span class='op'>|</span>
    <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_on'>on</span> <span class='symbol'>:message</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_msg'>msg</span><span class='op'>|</span>
      <span class='id identifier rubyid_parsed_message'>parsed_message</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_entity'>entity</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>resource</span><span class='tstring_end'>&#39;</span></span>
                 <span class='const'><span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Hawkular::Inventory::Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parsed_message'>parsed_message</span><span class='rparen'>)</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>resourcetype</span><span class='tstring_end'>&#39;</span></span>
                 <span class='const'><span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ResourceType.html#initialize-instance_method" title="Hawkular::Inventory::ResourceType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parsed_message'>parsed_message</span><span class='rparen'>)</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>metric</span><span class='tstring_end'>&#39;</span></span>
                 <span class='const'><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Metric.html#initialize-instance_method" title="Hawkular::Inventory::Metric#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parsed_message'>parsed_message</span><span class='rparen'>)</span>
               <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>metrictype</span><span class='tstring_end'>&#39;</span></span>
                 <span class='const'><span class='object_link'><a href="MetricType.html" title="Hawkular::Inventory::MetricType (class)">MetricType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="MetricType.html#initialize-instance_method" title="Hawkular::Inventory::MetricType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parsed_message'>parsed_message</span><span class='rparen'>)</span>
               <span class='kw'>else</span>
                 <span class='const'><span class='object_link'><a href="BaseEntity.html" title="Hawkular::Inventory::BaseEntity (class)">BaseEntity</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="BaseEntity.html#initialize-instance_method" title="Hawkular::Inventory::BaseEntity#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parsed_message'>parsed_message</span><span class='rparen'>)</span>
               <span class='kw'>end</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_entity'>entity</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_version_and_status-instance_method">
  
    #<strong>fetch_version_and_status</strong>  &#x21d2; <tt>Hash{String=&gt;String}</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return version and status information for the used version of
Hawkular-Inventory</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash{String=&gt;String}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>(&#39;Implementation-Version&#39;, &#39;Built-From-Git-SHA1&#39;,
&#39;Status&#39;)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


529
530
531</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 529</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_version_and_status'>fetch_version_and_status</span>
  <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/status</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_config_data_for_resource-instance_method">
  
    #<strong>get_config_data_for_resource</strong>(resource_path)  &#x21d2; <tt>Hash&lt;String,Object] Hash with additional data</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve runtime properties for the passed resource</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource to read properties from.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash&lt;String,Object] Hash with additional data</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Hash&lt;String,Object] Hash with additional data</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_config_data_for_resource'>get_config_data_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_ids'>resource_ids</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/r;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/d;configuration</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>rescue</span>
  <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_entity-instance_method">
  
    #<strong>get_entity</strong>(path)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve a single entity from inventory by its canonical path</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>canonical path of the entity</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>inventory entity</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 195</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_entity'>get_entity</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_c_path'>c_path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_c_path'>c_path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_resource-instance_method">
  
    #<strong>get_resource</strong>(resource_path, fetch_resource_config = true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the resource object for the passed path</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource to fetch.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>fetch_resource_config</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Should the resource config data be fetched?</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377
378
379
380
381
382
383
384
385
386</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_resource'>get_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='comma'>,</span> <span class='id identifier rubyid_fetch_resource_config'>fetch_resource_config</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_res_path'>res_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_ids'>resource_ids</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/r;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/entity/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_res_path'>res_path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_fetch_resource_config'>fetch_resource_config</span>
    <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_get_config_data_for_resource'>get_config_data_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>properties</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_res'>res</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>properties</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Hawkular::Inventory::Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_tenant-instance_method">
  
    #<strong>get_tenant</strong>(credentials = {})  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'>
<p>this doesn&#39;t provide any value, because it merely returns the tenant ID
which is known before the</p>
</div></div>

<p>Retrieve the tenant id for the passed credentials. If no credentials are
passed, the ones from the constructor are used call anyway.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>credentials</span>
      
      
        <span class='type'>(<tt>Hash{String=&gt;String}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Hash of username, password, token(optional)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>tenant id</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50
51
52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_tenant'>get_tenant</span><span class='lparen'>(</span><span class='id identifier rubyid_credentials'>credentials</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_creds'>creds</span> <span class='op'>=</span> <span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='ivar'>@credentials</span> <span class='op'>:</span> <span class='id identifier rubyid_credentials'>credentials</span>
  <span class='id identifier rubyid_auth_header'>auth_header</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>Authorization:</span> <span class='id identifier rubyid_base_64_credentials'>base_64_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_creds'>creds</span><span class='rparen'>)</span> <span class='rbrace'>}</span>

  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/tenant</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_auth_header'>auth_header</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_ret'>ret</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_child_resources-instance_method">
  
    #<strong>list_child_resources</strong>(parent_res_path, recursive = false)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtain the child resources of the passed resource. In case of a WildFly
server, those would be Datasources, Deployments and so on.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parent_res_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource to obtain children from.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>recursive</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Whether to fetch also all the children of children of </p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of resources that are children of the given parent resource. Can be
empty</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139
140
141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 137</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_child_resources'>list_child_resources</span><span class='lparen'>(</span><span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='comma'>,</span> <span class='id identifier rubyid_recursive'>recursive</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_parent_res_path'>parent_res_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_parent_res_path'>parent_res_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parent_resource_path'>parent_resource_path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_ids'>resource_ids</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/r;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_recursive'>recursive</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_resource_path'>parent_resource_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/recursive;over=isParentOf;type=r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parent_resource_path'>parent_resource_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/type=r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Hawkular::Inventory::Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_feeds-instance_method">
  
    #<strong>list_feeds</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List feeds in the system</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of feed ids</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 58</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_feeds'>list_feeds</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/traversal/type=f</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_metrics_for_metric_type-instance_method">
  
    #<strong>list_metrics_for_metric_type</strong>(metric_type_path)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List the metrics for the passed metric type. If feed is not passed in the
path, all the metrics across all the feeds of a given type will be
retrieved This method may perform multiple REST calls.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>metric_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource type to look for. Can be obtained from
<span class='object_link'><a href="MetricType.html" title="Hawkular::Inventory::MetricType (class)">MetricType</a></span>.path. Must not be nil. The tenant_id in the canonical path
doesn&#39;t have to be there.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of metrics. Can be empty</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209
210
211
212
213
214
215
216
217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_metrics_for_metric_type'>list_metrics_for_metric_type</span><span class='lparen'>(</span><span class='id identifier rubyid_metric_type_path'>metric_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_metric_type_path'>metric_type_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_metric_type_path'>metric_type_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_metric_type_path'>metric_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_metric_type_id'>metric_type_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_metric_type_id'>metric_type_id</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_feed_id'>feed_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/mt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_metric_type_id'>metric_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;defines/type=m</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/mt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_metric_type_id'>metric_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;defines/type=m</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Metric.html#initialize-instance_method" title="Hawkular::Inventory::Metric#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>rescue</span>
  <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_metrics_for_resource-instance_method">
  
    #<strong>list_metrics_for_resource</strong>(resource_path, filter = {})  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List metric (definitions) for the passed resource. It is possible to filter
down the</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_result'>result</span> <span class='id identifier rubyid_by'>by</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_filter'>filter</span> <span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_only'>only</span> <span class='kw'>return</span> <span class='id identifier rubyid_a'>a</span> <span class='id identifier rubyid_subset'>subset</span><span class='period'>.</span> <span class='const'>The</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='comment'># Filter by type and match on metrics id
</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_list_metrics_for_resource'>list_metrics_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_wild_fly'>wild_fly</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>GAUGE</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>match:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Metrics~Heap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># Filter by type only
</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_list_metrics_for_resource'>list_metrics_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_wild_fly'>wild_fly</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>COUNTER</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='comment'># Don&#39;t filter, return all metric definitions
</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_list_metrics_for_resource'>list_metrics_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_wild_fly'>wild_fly</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>filter</span>
      
      
        <span class='type'>(<tt>Hash{Symbol=&gt;String}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>for &#39;type&#39; and &#39;match&#39; Metric type can be one of
&#39;GAUGE&#39;, &#39;COUNTER&#39;, &#39;AVAILABILITY&#39;. If a key is
missing it will not be used for filtering</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of metrics that can be empty.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


256
257
258
259
260
261
262
263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 256</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_metrics_for_resource'>list_metrics_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_resource_path'>resource_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_resource_path_escaped'>resource_path_escaped</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>r;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_ids'>resource_ids</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/r;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_query_params'>generate_query_params</span> <span class='label'>sort:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_path_escaped'>resource_path_escaped</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;incorporates/type=m</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_to_filter'>to_filter</span> <span class='op'>=</span> <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Metric.html#initialize-instance_method" title="Hawkular::Inventory::Metric#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_filter_entities'>filter_entities</span><span class='lparen'>(</span><span class='id identifier rubyid_to_filter'>to_filter</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_metrics_for_resource_type-instance_method">
  
    #<strong>list_metrics_for_resource_type</strong>(resource_type_path)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List the metrics for all the resources of a given resource type. If feed is
not passed in the resource type canonical path, all the metrics across all
the feeds of a resource type will be retrieved. This method may perform
multiple REST calls.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource type to look for. Can be obtained from
<span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span>.path. Must not be nil. The tenant_id in the canonical path
doesn&#39;t have to be there.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of metrics. Can be empty</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229
230
231
232
233
234
235
236
237
238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 227</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_metrics_for_resource_type'>list_metrics_for_resource_type</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_resource_type_path'>resource_type_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resource_type_id'>resource_type_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>

  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_query_params'>generate_query_params</span> <span class='label'>sort:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_feed_id'>feed_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;defines/type=r/rl;incorporates/type=m</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;defines/type=r/rl;incorporates/type=m</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Metric.html" title="Hawkular::Inventory::Metric (class)">Metric</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Metric.html#initialize-instance_method" title="Hawkular::Inventory::Metric#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_operation_definitions-instance_method">
  
    #<strong>list_operation_definitions</strong>(resource_type_path)  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List operation definitions (types) for a given resource type</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>canonical path of the resource type entity</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of operation type ids</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421
422
423
424
425
426
427
428
429
430
431
432</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 418</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_operation_definitions'>list_operation_definitions</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parsed_path'>parsed_path</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_parsed_path'>parsed_path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_resource_type_id'>resource_type_id</span> <span class='op'>=</span> <span class='id identifier rubyid_parsed_path'>parsed_path</span><span class='period'>.</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span>
  <span class='id identifier rubyid_ots'>ots</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/type=ot</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_ots'>ots</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ot'>ot</span><span class='op'>|</span>
    <span class='id identifier rubyid_ot_name'>ot_name</span> <span class='op'>=</span> <span class='const'>ERB</span><span class='op'>::</span><span class='const'>Util</span><span class='period'>.</span><span class='id identifier rubyid_url_encode'>url_encode</span> <span class='id identifier rubyid_ot'>ot</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pts'>pts</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/ot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ot_name'>ot_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/d;parameterTypes</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ot'>ot</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>parameters</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_pts'>pts</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_pts'>pts</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_od'>od</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OperationDefinition.html" title="Hawkular::Inventory::OperationDefinition (class)">OperationDefinition</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="OperationDefinition.html#initialize-instance_method" title="Hawkular::Inventory::OperationDefinition#initialize (method)">new</a></span></span> <span class='id identifier rubyid_ot'>ot</span>
    <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span> <span class='id identifier rubyid_od'>od</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_od'>od</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_res'>res</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_operation_definitions_for_resource-instance_method">
  
    #<strong>list_operation_definitions_for_resource</strong>(resource_path)  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List operation definitions (types) for a given resource</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>canonical path of the resource entity</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of operation type ids</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


437
438
439
440</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 437</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_operation_definitions_for_resource'>list_operation_definitions_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resource'>resource</span> <span class='op'>=</span> <span class='id identifier rubyid_get_resource'>get_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_path'>resource_path</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_list_operation_definitions'>list_operation_definitions</span><span class='lparen'>(</span><span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_type_path'>type_path</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_relationships-instance_method">
  
    #<strong>list_relationships</strong>(entity_path, named = nil)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Relationship.html" title="Hawkular::Inventory::Relationship (class)">Relationship</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtain a list of relationships starting at the passed resource</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>entity_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the entity that forms the one end of the relationship</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>named</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the relationship</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Relationship.html" title="Hawkular::Inventory::Relationship (class)">Relationship</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of relationships</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160
161
162
163
164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_relationships'>list_relationships</span><span class='lparen'>(</span><span class='id identifier rubyid_entity_path'>entity_path</span><span class='comma'>,</span> <span class='id identifier rubyid_named'>named</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_entity_path'>entity_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_entity_path'>entity_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_entity_path'>entity_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query_params'>query_params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>sort:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>__targetCp</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_query_params'>generate_query_params</span> <span class='id identifier rubyid_query_params'>query_params</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/relationships</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_content'>/relationships;name=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_named'>named</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Relationship.html" title="Hawkular::Inventory::Relationship (class)">Relationship</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Relationship.html#initialize-instance_method" title="Hawkular::Inventory::Relationship#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_relationships_for_feed-instance_method">
  
    #<strong>list_relationships_for_feed</strong>(feed_id, named = nil)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Relationship.html" title="Hawkular::Inventory::Relationship (class)">Relationship</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtain a list of relationships for the passed feed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the feed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>named</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Name of the relationship</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Relationship.html" title="Hawkular::Inventory::Relationship (class)">Relationship</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of relationships</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 174</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_relationships_for_feed'>list_relationships_for_feed</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='comma'>,</span> <span class='id identifier rubyid_named'>named</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_query_params'>query_params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>sort:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>__targetCp</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_query_params'>generate_query_params</span> <span class='id identifier rubyid_query_params'>query_params</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_named'>named</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/relationships</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal;/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/relationships;named=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_named'>named</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="Relationship.html" title="Hawkular::Inventory::Relationship (class)">Relationship</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Relationship.html#initialize-instance_method" title="Hawkular::Inventory::Relationship#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>rescue</span>
  <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_resource_types-instance_method">
  
    #<strong>list_resource_types</strong>(feed_id = nil)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List resource types. If no feed_id is given all types are listed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The id of the feed the type lives under. Can be nil for feedless types</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of types, that can be empty</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_resource_types'>list_resource_types</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_feed_id'>feed_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/traversal/type=rt</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/type=rt</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_rt'>rt</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ResourceType.html#initialize-instance_method" title="Hawkular::Inventory::ResourceType#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rt'>rt</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_resources_for_feed-instance_method">
  
    #<strong>list_resources_for_feed</strong>(feed_id, fetch_properties = false, filter = {})  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return all resources for a feed</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>feed_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Id of the feed that hosts the resources</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>fetch_properties</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Should the config data be fetched too</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of resources, which can be empty.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_resources_for_feed'>list_resources_for_feed</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='comma'>,</span> <span class='id identifier rubyid_fetch_properties'>fetch_properties</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Feed id must be given</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_the_feed'>the_feed</span> <span class='op'>=</span> <span class='id identifier rubyid_hawk_escape_id'>hawk_escape_id</span> <span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_the_feed'>the_feed</span><span class='embexpr_end'>}</span><span class='tstring_content'>/type=r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_to_filter'>to_filter</span> <span class='op'>=</span> <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_fetch_properties'>fetch_properties</span>
      <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_get_config_data_for_resource'>get_config_data_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>properties</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Hawkular::Inventory::Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_filter_entities'>filter_entities</span><span class='lparen'>(</span><span class='id identifier rubyid_to_filter'>to_filter</span><span class='comma'>,</span> <span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="list_resources_for_type-instance_method">
  
    #<strong>list_resources_for_type</strong>(resource_type_path, fetch_properties = false)  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List the resources for the passed resource type. The representation for
resources under a feed are sparse and additional data must be retrieved
separately. It is possible though to also obtain runtime properties by
setting #fetch_properties to true.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>resource_type_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Canonical path of the resource type. Can be obtained from
<span class='object_link'><a href="ResourceType.html" title="Hawkular::Inventory::ResourceType (class)">ResourceType</a></span>.path. Must not be nil. The tenant_id in the canonical path
doesn&#39;t have to be there.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>fetch_properties</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Shall additional runtime properties be fetched?</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of resources. Can be empty</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_list_resources_for_type'>list_resources_for_type</span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='comma'>,</span> <span class='id identifier rubyid_fetch_properties'>fetch_properties</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_resource_type_path'>resource_type_path</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="CanonicalPath.html" title="Hawkular::Inventory::CanonicalPath (class)">CanonicalPath</a></span></span><span class='period'>.</span><span class='id identifier rubyid_parse'><span class='object_link'><a href="CanonicalPath.html#parse-class_method" title="Hawkular::Inventory::CanonicalPath.parse (method)">parse</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_resource_type_path'>resource_type_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_resource_type_id'>resource_type_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span>
  <span class='id identifier rubyid_feed_id'>feed_id</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_feed_id'>feed_id</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_feed_id'>feed_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;defines/type=r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_http_get'>http_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/traversal/f;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rt;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_resource_type_id'>resource_type_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/rl;defines/type=r</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_fetch_properties'>fetch_properties</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_feed_id'>feed_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='id identifier rubyid_get_config_data_for_resource'>get_config_data_for_resource</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>path</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>properties</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>value</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='const'><span class='object_link'><a href="Resource.html" title="Hawkular::Inventory::Resource (class)">Resource</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Resource.html#initialize-instance_method" title="Hawkular::Inventory::Resource#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="no_more_events!-instance_method">
  
    #<strong>no_more_events!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stop listening on inventory events. this method closes the web socket
connection</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


522
523
524</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/hawkular/inventory/inventory_api.rb', line 522</span>

<span class='kw'>def</span> <span class='id identifier rubyid_no_more_events!'>no_more_events!</span>
  <span class='ivar'>@ws</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Mar 13 17:38:45 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.8 (ruby-2.3.0).
</div>

    </div>
  </body>
</html>